C51 COMPILER V9.60.0.0   MCU_OLED_SHOW                                                     08/08/2020 00:30:37 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MCU_OLED_SHOW
OBJECT MODULE PLACED IN .\Objects\MCU_OLED_Show.obj
COMPILER INVOKED BY: D:\Keil5\C51\BIN\C51.EXE MCU_OLED_Show.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\
                    -Listings\MCU_OLED_Show.lst) TABS(2) OBJECT(.\Objects\MCU_OLED_Show.obj)

line level    source

   1          #include "MCU_OLED_Show.h"
   2          
   3          //========================================================================
   4          // 函数: void MCU_OLED_StatusChange(unsigned char flag)
   5          // 描述: 手机连接后，MCU控制模块状态显示
   6          // 参数: flag:操作标记位，根据操作符号，更改OLED状态显示
   7          // 返回: 无
   8          // 说明:
   9          // 版本: V1.0, 2020.03.09
  10          //========================================================================
  11          void MCU_OLED_StatusChange(unsigned char flag)
  12          {
  13   1        if(Phone_flag){
  14   2          if(flag==0x00){OLED_CLS_Local(0,4,X_WIDTH,Y_WIDTH); OLED_P6x8Str(6,4,"L1:0 L2:0 L3:0 L4:0");}
  15   2          if(flag==0x01||flag==0x00){if(P14==0x01){OLED_P6x8Str(24,4,"1");}else{OLED_P6x8Str(24,4,"0");} }
  16   2          if(flag==0x02||flag==0x00){if(P15==0x01){OLED_P6x8Str(54,4,"1");}else{OLED_P6x8Str(54,4,"0");}}
  17   2          if(flag==0x04||flag==0x00){if(P16==0x01){OLED_P6x8Str(84,4,"1");}else{OLED_P6x8Str(84,4,"0");} }
  18   2          if(flag==0x08||flag==0x00){if(P17==0x01){OLED_P6x8Str(114,4,"1");}else{OLED_P6x8Str(114,4,"0");} }
  19   2        }
  20   1        else{OLED_CLS_Local(0,4,X_WIDTH,6);}
  21   1      }
  22          
  23          
  24          //========================================================================
  25          // 函数: void MCU_OLED_MessageShow(unsigned char Order,unsigned char Wifi_status_1,unsigned char Wifi_stat
             -us_2)
  26          // 描述: 系统OLED显示函数,主要显示WiFi连接状态
  27          // 参数: Order:WiFi推送状态命令;Wifi_status_1,Wifi_status_2:WiFi状态标记位
  28          // 返回: 无
  29          // 说明:
  30          // 版本: V1.0, 2020.03.09
  31          //========================================================================
  32          void MCU_OLED_MessageShow(unsigned char Order,unsigned char Wifi_status_1,unsigned char Wifi_status_2)
  33          {
  34   1        //推送wifi状态
  35   1        if(Order==0x0d)
  36   1        {
  37   2          //清除第三行及以下所有行
  38   2          OLED_CLS_Local(0,2,X_WIDTH,4); 
  39   2          switch(Wifi_status_2)
  40   2          {
  41   3            //SoftAP模式开启
  42   3            case 0x01:OLED_P6x8Str(6,2,"M:A");
  43   3              break;
  44   3            //Station模式开启
  45   3            case 0x02:OLED_P6x8Str(6,2,"M:S");
  46   3              break;
  47   3            //SoftAP模式开启，开启配置模式,配置使用SoftAP
  48   3            case 0x05:OLED_P6x8Str(6,2,"M:A C:S");
  49   3              break;
  50   3            //Station模式开启，开启配置模式,配置使用AirLink
  51   3            case 0x06:OLED_P6x8Str(6,2,"M:S C:A");
  52   3              break;
  53   3            //Station模式开启，成功连接路由器
C51 COMPILER V9.60.0.0   MCU_OLED_SHOW                                                     08/08/2020 00:30:37 PAGE 2   

  54   3            case 0x12:OLED_P6x8Str(6,2,"M:S C:A W:1");
  55   3              break;
  56   3            //Station模式开启，成功连接路由器，开启绑定模式
  57   3            case 0x1A:OLED_P6x8Str(6,2,"M:S C:A W:1");
  58   3              break;
  59   3            //Station模式开启，成功连接路由器，开启绑定模式，连接上云端
  60   3            case 0x3A:
  61   3                //Station模式开启，成功连接路由器，开启绑定模式，连接上云端，无手机连接
  62   3                if(Wifi_status_1>=0x00 && Wifi_status_1<=0x07 )
  63   3                { OLED_P6x8Str(6,2,"M:S C:A W:1 N:1");}
  64   3                //Station模式开启，成功连接路由器，开启绑定模式，连接上云端，有手机连接
  65   3                if(Wifi_status_1>=0x08 && Wifi_status_1<=0x0F )
  66   3                { OLED_P6x8Str(6,2,"M:S C:A W:1 N:1 P:1");}
  67   3              break;  
  68   3          }
  69   2        }
  70   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    412    ----
   CONSTANT SIZE    =     96    ----
   XDATA SIZE       =   ----       3
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
